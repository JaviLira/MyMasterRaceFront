"use strict";(self.webpackChunkmacabrosMasterRaceFront=self.webpackChunkmacabrosMasterRaceFront||[]).push([[698],{6698:(Q,u,i)=>{i.r(u),i.d(u,{ProcesadorModule:()=>Y});var d=i(6019),l=i(8642),a=i(7537),m=i(1659),s=i.n(m),o=i(2383),p=i(176),g=i(6077),_=i(9158);function f(r,e){1&r&&o._UZ(0,"img",26)}function b(r,e){if(1&r&&o._UZ(0,"img",27),2&r){const t=o.oxw(2);o.s9C("src",t.articulo.imagenGenerada,o.LSH)}}const x=function(r){return["/paginasProtegidas/administrador/editar-articulo/editarProcesador",r]};function h(r,e){if(1&r&&(o.TgZ(0,"button",28),o._uU(1,"Editar"),o.qZA()),2&r){const t=o.oxw(2);o.Q6J("routerLink",o.VKq(1,x,t.idProcesador))}}function Z(r,e){if(1&r){const t=o.EpF();o.TgZ(0,"button",29),o.NdJ("click",function(){return o.CHM(t),o.oxw(2).desactivar()}),o._uU(1,"Desactivar"),o.qZA()}}function C(r,e){if(1&r){const t=o.EpF();o.TgZ(0,"button",30),o.NdJ("click",function(){return o.CHM(t),o.oxw(2).activar()}),o._uU(1,"Activar"),o.qZA()}}function T(r,e){if(1&r){const t=o.EpF();o.TgZ(0,"button",31),o.NdJ("click",function(){return o.CHM(t),o.oxw(2).anadirUncomentario()}),o._uU(1,"A\xf1adir comentario"),o.qZA()}}function A(r,e){if(1&r&&(o.TgZ(0,"button",32),o._uU(1,"A\xf1adir"),o.qZA()),2&r){const t=o.oxw(2);o.Q6J("disabled",t.miFormulario.invalid)}}function P(r,e){if(1&r){const t=o.EpF();o.TgZ(0,"button",31),o.NdJ("click",function(){return o.CHM(t),o.oxw(2).anadirUncomentario()}),o._uU(1,"Cancelar"),o.qZA()}}function q(r,e){1&r&&(o.TgZ(0,"label",33),o._uU(1,"Comentario"),o.qZA())}function U(r,e){1&r&&o._UZ(0,"input",34)}function M(r,e){1&r&&(o.TgZ(0,"span",35),o._uU(1," No puede estar vacio "),o.qZA())}function k(r,e){if(1&r&&(o.TgZ(0,"div",37),o.TgZ(1,"div"),o.TgZ(2,"p",38),o.TgZ(3,"b"),o._uU(4),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5,"div"),o.TgZ(6,"p",39),o.TgZ(7,"q"),o._uU(8),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&r){const t=e.$implicit;o.xp6(4),o.Oqu(t.usuario.name),o.xp6(4),o.Oqu(t.comentario)}}function J(r,e){if(1&r&&(o.TgZ(0,"div"),o.YNc(1,k,9,2,"div",36),o.qZA()),2&r){const t=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",t.listaComentarios)}}function N(r,e){if(1&r){const t=o.EpF();o.TgZ(0,"div",1),o.TgZ(1,"div",2),o.YNc(2,f,1,0,"img",3),o.YNc(3,b,1,1,"img",4),o.qZA(),o.TgZ(4,"div",2),o.TgZ(5,"div",5),o.TgZ(6,"div",6),o.TgZ(7,"div",7),o.TgZ(8,"h1",8),o._uU(9),o.qZA(),o.TgZ(10,"p",9),o.TgZ(11,"b"),o._uU(12,"Caracter\xedsticas:"),o.qZA(),o.qZA(),o.TgZ(13,"p"),o._uU(14),o.qZA(),o.TgZ(15,"p",9),o.TgZ(16,"b"),o._uU(17,"Marca: "),o.qZA(),o._uU(18),o.qZA(),o.TgZ(19,"p",9),o.TgZ(20,"b"),o._uU(21,"Modelo: "),o.qZA(),o._uU(22),o.qZA(),o.TgZ(23,"p",9),o.TgZ(24,"b"),o._uU(25,"Socket: "),o.qZA(),o._uU(26),o.qZA(),o.TgZ(27,"p",9),o.TgZ(28,"b"),o._uU(29,"Precio: "),o.qZA(),o._uU(30),o.qZA(),o.qZA(),o.TgZ(31,"div",10),o.TgZ(32,"button",11),o.NdJ("click",function(){return o.CHM(t),o.oxw().comprar()}),o._uU(33,"Comprar"),o.qZA(),o.TgZ(34,"button",12),o.NdJ("click",function(){return o.CHM(t),o.oxw().anadirCarrito()}),o._uU(35,"A\xf1adir la carrito"),o.qZA(),o.qZA(),o.qZA(),o.YNc(36,h,2,3,"button",13),o.YNc(37,Z,2,0,"button",14),o.YNc(38,C,2,0,"button",15),o.qZA(),o.qZA(),o.TgZ(39,"div",16),o.TgZ(40,"div",17),o.TgZ(41,"h2",18),o._uU(42,"Comentarios: "),o.qZA(),o.TgZ(43,"form",19),o.NdJ("ngSubmit",function(){return o.CHM(t),o.oxw().hacerComentario()}),o.YNc(44,T,2,0,"button",20),o.YNc(45,A,2,1,"button",21),o.YNc(46,P,2,0,"button",20),o._UZ(47,"br"),o.YNc(48,q,2,0,"label",22),o.YNc(49,U,1,0,"input",23),o.YNc(50,M,2,0,"span",24),o.qZA(),o.qZA(),o.YNc(51,J,2,1,"div",25),o.qZA(),o.qZA()}if(2&r){const t=o.oxw();o.xp6(2),o.Q6J("ngIf","data:image/png;base64,null"==t.articulo.imagenGenerada),o.xp6(1),o.Q6J("ngIf","data:image/png;base64,null"!=t.articulo.imagenGenerada),o.xp6(6),o.Oqu(t.articulo.nombre),o.xp6(5),o.Oqu(t.articulo.descripcion),o.xp6(4),o.Oqu(t.articulo.marca),o.xp6(4),o.Oqu(t.articulo.modelo),o.xp6(4),o.hij("",t.articulo.socket,"GB"),o.xp6(4),o.hij("",t.articulo.precio,"\u20ac"),o.xp6(2),o.Q6J("disabled",!t.validarToken),o.xp6(2),o.Q6J("disabled",!t.validarToken),o.xp6(2),o.Q6J("ngIf",t.rolAdministrador&&t.validarToken),o.xp6(1),o.Q6J("ngIf",t.rolAdministrador&&t.articulo.activo&&t.validarToken),o.xp6(1),o.Q6J("ngIf",t.rolAdministrador&&!t.articulo.activo&&t.validarToken),o.xp6(5),o.Q6J("formGroup",t.miFormulario),o.xp6(1),o.Q6J("ngIf",!t.anadirComentario),o.xp6(1),o.Q6J("ngIf",t.anadirComentario),o.xp6(1),o.Q6J("ngIf",t.anadirComentario),o.xp6(2),o.Q6J("ngIf",t.anadirComentario),o.xp6(1),o.Q6J("ngIf",t.anadirComentario),o.xp6(1),o.Q6J("ngIf",t.campoEsValido("opinion")),o.xp6(1),o.Q6J("ngIf",!t.anadirComentario)}}const I=[{path:"",component:(()=>{class r{constructor(t,n,c,y,S,O){this.route=t,this.componentesService=n,this.router=c,this.authService=y,this.fb=S,this.barraService=O,this.miFormulario=this.fb.group({opinion:["",[a.kI.required,a.kI.minLength(4)]]}),this.espera=!1,this.validarToken=!1,this.anadirComentario=!1,this.idProcesador=this.route.snapshot.paramMap.get("id")}ngOnInit(){this.buscarArticulo(),this.validar(),this.sacarComentarios()}buscarArticulo(){this.componentesService.sacarProcesador(this.route.snapshot.paramMap.get("id")).subscribe({next:t=>{this.articulo=t,this.articulo.imagenGenerada=this.componentesService.obtenerFoto(this.articulo),this.espera=!0},error:t=>{console.log(t),s().fire("No se han podido cargar los datos del servidor")}})}comprar(){this.validar(),this.validarToken?this.componentesService.enviarCarrito(this.articulo).subscribe({next:t=>{this.router.navigateByUrl("/paginasProtegidas/carrito")},error:t=>{s().fire("No se a podido enviar el articulo al carrito",t.error.mensaje)}}):s().fire("Necesitas estar logeado")}anadirCarrito(){this.validar(),this.validarToken?this.componentesService.enviarCarrito(this.articulo).subscribe({next:t=>{s().fire("Perfecto","El articulo se a a\xf1adido a su carrito","success")},error:t=>{s().fire("No se a podido enviar el articulo al carrito",t.error.mensaje)}}):s().fire("Necesitas estar logeado")}validar(){this.authService.validarToken().subscribe({next:t=>(this.validarToken=!0,!0),error:t=>(this.validarToken=!1,!1)})}anadirUncomentario(){this.sacarComentarios(),this.anadirComentario=1!=this.anadirComentario}hacerComentario(){this.componentesService.hacerComentario(this.route.snapshot.paramMap.get("id"),this.miFormulario.value.opinion).subscribe({next:t=>{this.sacarComentarios(),this.anadirComentario=!1},error:t=>{s().fire("No se han podido enviar el comentario",t.error.mensaje,"error")}})}sacarComentarios(){this.componentesService.sacarComentarios(this.route.snapshot.paramMap.get("id")).subscribe({next:t=>{this.listaComentarios=t},error:t=>{}})}campoEsValido(t){return this.miFormulario.controls[t].errors&&this.miFormulario.controls[t].touched}get rolAdministrador(){return this.barraService.rolAdministrador}activar(){this.componentesService.activarArticulo(this.articulo,this.route.snapshot.paramMap.get("id")).subscribe({next:t=>{this.articulo.activo=!0},error:t=>{}})}desactivar(){this.componentesService.desactivarticulo(this.articulo,this.route.snapshot.paramMap.get("id")).subscribe({next:t=>{this.articulo.activo=!1},error:t=>{}})}}return r.\u0275fac=function(t){return new(t||r)(o.Y36(l.gz),o.Y36(p.H),o.Y36(l.F0),o.Y36(g.e),o.Y36(a.qu),o.Y36(_.Z))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-procesador"]],decls:1,vars:1,consts:[["class","row gx-0",4,"ngIf"],[1,"row","gx-0"],[1,"col"],["src","./assets/procesadorejemplo.png","class","nailsLogin col-12 img3","alt","imagen articulo",4,"ngIf"],["class","card-img-top img3","alt","imagen articulo",3,"src",4,"ngIf"],[1,""],[1,"card","div1","col-12"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"text-center"],[1,"btn","btn-primary","col-5",3,"disabled","click"],[1,"btn","btn-light","col-5","color1",3,"disabled","click"],["class","btn btn-primary btnEditar col-5",3,"routerLink",4,"ngIf"],["class","btn btn-danger btnActivar col-5",3,"click",4,"ngIf"],["class","btn btn-success btnActivar col-5",3,"click",4,"ngIf"],[1,"comentarios"],[1,"col-12"],[1,"h2Comentarios"],["autocomplete","off",3,"formGroup","ngSubmit"],["class","btn btn-primary ",3,"click",4,"ngIf"],["type","submit","class","btn btn-primary ",3,"disabled",4,"ngIf"],["class","form-control-label h4",4,"ngIf"],["type","text","class","form-control","placeholder","Escriva su comentario","formControlName","opinion",4,"ngIf"],["class","form-text text-danger",4,"ngIf"],[4,"ngIf"],["src","./assets/procesadorejemplo.png","alt","imagen articulo",1,"nailsLogin","col-12","img3"],["alt","imagen articulo",1,"card-img-top","img3",3,"src"],[1,"btn","btn-primary","btnEditar","col-5",3,"routerLink"],[1,"btn","btn-danger","btnActivar","col-5",3,"click"],[1,"btn","btn-success","btnActivar","col-5",3,"click"],[1,"btn","btn-primary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"form-control-label","h4"],["type","text","placeholder","Escriva su comentario","formControlName","opinion",1,"form-control"],[1,"form-text","text-danger"],["class","comentarioDelUsuario",4,"ngFor","ngForOf"],[1,"comentarioDelUsuario"],[1,"nombreUsuario"],[1,"comentario"]],template:function(t,n){1&t&&o.YNc(0,N,52,21,"div",0),2&t&&o.Q6J("ngIf",n.espera)},directives:[d.O5,a._Y,a.JL,a.sg,l.rH,a.Fj,a.JJ,a.u,d.sg],styles:["button[_ngcontent-%COMP%]{margin-bottom:10px;margin-right:20px}.color1[_ngcontent-%COMP%]{border:solid 2px;border-color:#94949469}.card[_ngcontent-%COMP%]{margin:0;cursor:default}.comentarios[_ngcontent-%COMP%]{padding-top:50px;padding-left:20px;padding-right:20px}.comentario[_ngcontent-%COMP%]{color:#000000b7}.comentarioDelUsuario[_ngcontent-%COMP%]{margin:20px}.btnEditar[_ngcontent-%COMP%]{margin-top:30px;margin-left:3vw}.btnActivar[_ngcontent-%COMP%]{margin-top:30px}@media screen and (max-width: 800px){.btnActivar[_ngcontent-%COMP%]{margin-top:30px;margin-left:3vw}}"]}),r})()}];let F=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[l.Bz.forChild(I)],l.Bz]}),r})(),Y=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[d.ez,F,a.UX]]}),r})()}}]);